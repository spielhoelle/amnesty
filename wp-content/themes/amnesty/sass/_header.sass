.menu-toggle
  background: transparent
  border: 0 none
  color: transparent
  width: 40px
  height: 40px
  right: 0
  top: 0
  position: absolute
  display: none
  &:before
    position: absolute
    right: 0
    color: black
    content: "\f228"
    display: inline-block
    margin-right: 7px
    font: 400 40px/1 dashicons
    -webkit-font-smoothing: antialiased
    -moz-osx-font-smoothing: grayscale
  @media screen and (max-width: $breakpoint3)
    display: block
    pointer-events: all

#masthead
  position: fixed
  z-index: 52
  background: white
  left: 50%
  transform: translate(-50%, 0)
  @media (max-width: $breakpoint3)
    background: transparent
    top: 0
  a
    text-transform: uppercase
  .top
    position: relative
    display: flex
    height: $headerheight
    @media (max-width: $breakpoint1)
      height: $headerheight / 2
    @media (max-width: $breakpoint3)
      pointer-events: none
    .site-branding
      height: 100%
      margin-right: 10px
      @media (max-width: $breakpoint3)
        pointer-events: all
        &, .site-title
          &, a
            height: 40px
      .site-title
        margin: 0
        height: 100%
        a
          width: 180px
          display: inline-block
          color: transparent
          height: 100%
          background: $yellow url("img/logo.svg") no-repeat scroll center center / contain
          @media (max-width: $breakpoint1)
            width: 99px


  .top, .main-navigation
    display: flex

    @media (max-width: $breakpoint1)
      a
        @media (max-width: $breakpoint3)
          display: block
    @media (max-width: $breakpoint3)
      height: 100%
      width: 100%
      > div > ul > li
        height: auto


#site-description
  display: flex
  flex-flow: column
  justify-content: center
  transition: color .3s ease
  font-size: 1em
  color: black
  @media (max-width: $breakpoint1)
    font-size: .8em
  @media (max-width: $breakpoint3)
    padding-right: 80px
    margin: 0
    &:after
      position: absolute
      content: ""
      background: white
      left: 0
      top: 0
      right: 0
      height: 40px
      z-index: -1

body.toggled
  overflow: hidden
  #masthead
    overflow: hidden
    bottom: 0
  .top
    pointer-events: all !important
    #site-description
      height: 40px
  .main-navigation
    ul
      overflow: auto !important
      pointer-events: all !important
      opacity: 1

.main-navigation
  height: 100%
  display: flex
  width: 100%
  flex-flow: column
  @media (max-width: $breakpoint3)
    position: absolute
    left: 0
  @media (max-width: $breakpoint3)
    z-index: 1
    transition: background-color 1s ease
    position: absolute
    top: 0
    padding-top: 40px
    #menu-search
      position: absolute
      top: 0
      right: 50px
      font-size: 26px
      input[type="search"]
        margin-bottom: 20px
      i
        padding: 7px
    a
      padding: 5px 15px
      &:hover
        background-color: rgba(0, 0, 0, 0.1) !important
  > div
    flex: 1 0 auto
    display: flex
    height: 100%
    justify-content: center
    flex-flow: column
    @media screen and (max-width: $breakpoint3)
      justify-content: flex-start
    > ul
      height: 100%
      display: flex
      justify-content: space-around
      align-items: center
      transition: opacity .3s ease, background-color .3s ease
      @media screen and (max-width: $breakpoint3)
        opacity: 0
        height: auto
      > .sub-menu
        top: $headerheight
        display: flex
        justify-content: center
        .sub-menu
          top: 160px
          width: 100%
          &:after
            top: 160px
      > li
        height: 100%
        flex: 1 0 auto

  div ul
    list-style: none
    margin: 0
    padding-left: 0
    transition: opacity .3s ease, background-color .3s ease
    @media screen and (max-width: $breakpoint3)
      background-color: rgba(255, 255, 255, 0.95)
      justify-content: flex-start
      flex-flow: column
      align-items: stretch
      text-align: center
      opacity: 0
    .sub-menu
      @media (max-width: $breakpoint1)
        height: $headerheight / 2
      a
        padding: 0 15px
        @media (max-width: $breakpoint1)
          padding: 5px 10px
      @media (max-width: $breakpoint2)
        padding: 0 5px

      @media (max-width: $breakpoint3)
        display: none
      background: black
      height: $headerheight
      position: absolute
      z-index: -1
      justify-content: center
      display: flex
      flex-flow: row nowrap
      left: -999em
      transform: translateX(-50%)
      li
        height: 100%
      &::after
        height: 100%
        position: absolute
        z-index: -1
        top: 0
        left: 0
        display: block
        content: ""
        width: 300%
        left: -100%
        @media (max-width: $breakpoint3)
          display: none
      .sub-menu
        z-index: 0
      a
        color: $white

        margin-top: 0px
        transition: margin .3s ease
        @media (max-width: $breakpoint3)
          color: black
        &:hover
          background-color: #333
  div > ul li.menu-item-has-children:hover
    > .sub-menu
      left: auto
  a
    font-family: $font__title
    justify-content: center

  a, i
    cursor: pointer
    height: 100%
    text-decoration: none
    display: flex
    align-items: center
    white-space: nowrap
    &:hover
      background: rgba(0, 0, 0, 0.1)
  i:before
    margin: 0 auto

  #menu-search .search-form
    position: absolute
    display: none
    right: 0
    background: #FFF
    border: 1px solid #eee
    @media (max-width: $breakpoint3)
      position: fixed
      width: 100%
.current_page_item,
.current-menu-item,
.current_page_ancestor,
.current-menu-ancestor,
  background-color: rgba(0, 0, 0, 0.2)
  .sub-menu &
    background-color: #333
  &:hover
    background-color: rgba(0, 0, 0, 0.3)
    .sub-menu &
      background-color: #444
  > a
    @media (max-width: $breakpoint3)
      background: black
      color: $white !important
.comment-navigation,
.posts-navigation,
.post-navigation
  .site-main &
    margin: 0 0 1.5em
    overflow: hidden
  .nav-previous
    float: left
    width: 50%
  .nav-next
    float: right
    text-align: right
    width: 50%
